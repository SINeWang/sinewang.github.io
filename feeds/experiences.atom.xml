<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>王延炯 · 观世界 | World Insight - experiences</title><link href="/" rel="alternate"></link><link href="/feeds/experiences.atom.xml" rel="self"></link><id>/</id><updated>2022-04-02T00:00:00+08:00</updated><entry><title>上海电信桥接拨号与ASUS AiMesh支持IPTV机顶盒</title><link href="/articles/shanghai-telecom-and-asuswrt-merlin-support-iptv" rel="alternate"></link><published>2022-04-02T00:00:00+08:00</published><updated>2022-04-02T00:00:00+08:00</updated><author><name>Wang YanJiong</name></author><id>tag:None,2022-04-02:/articles/shanghai-telecom-and-asuswrt-merlin-support-iptv</id><summary type="html">&lt;p class="first"&gt;实现效果：&lt;span class="hlr"&gt;E-140W-P&lt;/span&gt;  --&amp;gt; &lt;span class="hlr"&gt;AiMesh&lt;/span&gt;  --&amp;gt; &lt;span class="hlr"&gt;IPTV机顶盒&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;光猫（上海电信 E-140W-P）&lt;/p&gt;
&lt;p&gt;IPTV机顶盒（华为悦盒 EC6108V9C）&lt;/p&gt;
&lt;p&gt;ASUS AiMesh 主节点：ASUS RT-AC86U / RT-AC86U_386.5_0_cferom_ubi_0fd614b_koolcenter.w&lt;/p&gt;
&lt;p&gt;ASUS AiMesh 节点[1]: ASUS RT-AC68U / RT-AC68U_386.5_0_0fd614b_koolcenter.trx&lt;/p&gt;
&lt;p&gt;ASUS AiMesh 节点[2,3,4]：Linksys EA6700 / RT-AC68U_386.5_0_0fd614b_koolcenter.trx&lt;/p&gt;
&lt;p class="last"&gt;相关概念：dhcp-option, dnsmasq, ifconfig, [linux-kernel/4.1, vconfig, brctl, bcmmcastctl] , [BCM4708, robocfg]&lt;/p&gt;
</summary><content type="html">
&lt;div class="section" id="id1"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id13"&gt;1. 前置条件与运行环境&lt;/a&gt;&lt;/h2&gt;
&lt;div class="section" id="id2"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id14"&gt;1.1 术语&lt;/a&gt;&lt;/h3&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;光猫：是指由电信运营商安装在用户侧的网络设备。(在本文中，是E-140W-P)&lt;/li&gt;
&lt;li&gt;主路由器：是指用户自行购买的，具有PPPoE拨号功能，以及VLAN设置功能的网络设备。(在本文中，是以ASUS RT-AC86U为主节点)&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://www.asus.com/microsite/AiMesh/en/index.html"&gt;ASUS AiMesh&lt;/a&gt; ：是指ASUS公司的专有AiMesh技术，以实现主节点与AiMesh节点之间的统一管理。&lt;/li&gt;
&lt;li&gt;AiMesh 节点：是指由ASUS AiMesh主节点统一管理的接入点。（本文中，可以理解为具有有线与无线接入能力的AP）。&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="section" id="id3"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id15"&gt;1.1 前置条件&lt;/a&gt;&lt;/h3&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;光猫已经改成桥接，交由路由器拨号接入Internet。&lt;/li&gt;
&lt;li&gt;光猫的LAN3或LAN4 口上绑定了传输IPTV的 VLAN 51和VLAN 85&lt;/li&gt;
&lt;li&gt;主路由器的WAN口与光猫的LAN3或LAN4通过网线直连。&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="section" id="id4"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id16"&gt;1.2 运行环境&lt;/a&gt;&lt;/h3&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;网络设备&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;span class="hlr"&gt;光猫&lt;/span&gt;  [E-140W-P]&lt;/li&gt;
&lt;li&gt;&lt;span class="hlr"&gt;主路由器&lt;/span&gt; （Ai Mesh主节点） [ASUS RT-AC86U / RT-AC86U_386.5_0_cferom_ubi_0fd614b_koolcenter.w]&lt;/li&gt;
&lt;li&gt;&lt;span class="hlr"&gt;AiMesh节点-1&lt;/span&gt;  [ASUS RT-AC68U / RT-AC68U_386.5_0_0fd614b_koolcenter.trx]&lt;/li&gt;
&lt;li&gt;&lt;span class="hlb"&gt;AiMesh节点-2,3,4&lt;/span&gt;  [Linksys EA6700 / RT-AC68U_386.5_0_0fd614b_koolcenter.trx]&lt;/li&gt;
&lt;li&gt;&lt;span class="hlr"&gt;IPTV机顶盒&lt;/span&gt;  [华为悦盒 EC6108V9C]&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;注1：&lt;span class="hlr"&gt;红色标记的设备&lt;/span&gt; 是本文所涉及的硬件设备。&lt;/p&gt;
&lt;p&gt;注2：&lt;span class="hlb"&gt;AiMesh节点-2,3,4&lt;/span&gt; 与本文目标无关。（需要注意的是，在Linksys EA6700上运行的 386.5_0 固件，其外壳上标记的LAN1口是运行时固件中被认定的WAN口。所以，当在AiMesh有线组网时，必须将网线插在外壳标记的LAN1口上，会导致组网失败。救活"没有开放WIFI接入"的AiMesh节点路由器，则需要用网线连接LAN口与电脑，并在电脑上设置为192.168.50.0/24网段中的地址，例如192.168.50.11访问IP地址为192.168.50.1"失联"AiMesh节点路由器。）&lt;/p&gt;
&lt;p&gt;注3：下图中显示为RT-AC66U B1的AiMesh节点，实际为「AiMesh节点-2,3,4」中的一个。（没错，Linksys EA6700刷的RT-AC68U固件，显示为RT-AC66U B1）&lt;/p&gt;
&lt;img alt="" class="align-center" src="../images/2022/04-02/shanghai-telecom-and-asuswrt-merlin-support-iptv-1.jpg" style="width: 350px;"/&gt;
&lt;ol class="arabic simple" start="2"&gt;
&lt;li&gt;光猫到IPTV机顶盒的网络连接&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;物理链路&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;span class="hlr"&gt;光猫[LAN4]&lt;/span&gt;  --网线-- &lt;span class="hlr"&gt;[WAN]主路由器[LAN]&lt;/span&gt;  --网线-- &lt;span class="hlr"&gt;[WAN]AiMesh节点-1[LAN1]&lt;/span&gt;  --网线-- &lt;span class="hlr"&gt;[LAN]IPTV机顶盒&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;注1：这里 &lt;span class="hlr"&gt;[WAN]主路由器[LAN]&lt;/span&gt; 内的[LAN]是指任意一个LAN端口。&lt;/p&gt;
&lt;p&gt;注2：这里 &lt;span class="hlr"&gt;[WAN]AiMesh节点-1[LAN1]&lt;/span&gt; 内的[LAN1]是指「AiMesh节点-1」上的LAN1口，和下面提到的 &lt;cite&gt;robocfg&lt;/cite&gt; 配置的 &lt;cite&gt;1t&lt;/cite&gt; 直接相关。&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;光猫A面IP地址分配&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;由于光猫A面接入的是本地AiMesh网络，与Internet无关，所以A面的IP地址分配由主路由器（AiMesh主节点）完成，而AiMesh节点侧不分配IP地址，只透传DHCP数据包。&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="rt-ac68urt-ac86u"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id17"&gt;1.3 RT-AC68U与RT-AC86U的固件差异&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;虽然AC68U与AC86U都是用了Koolcenter的386.5_0的固件，但是&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;AC68U是基于Linux 2.6，支持 &lt;cite&gt;robocfg&lt;/cite&gt; 配置VLAN且不需要额外配置IGMP Snooping&lt;/li&gt;
&lt;li&gt;AC86U是基于Linux 4.1，需要通过 &lt;cite&gt;vconfig&lt;/cite&gt; 和 &lt;cite&gt;brctl&lt;/cite&gt; 配置VLAN与网桥，以及通过 &lt;cite&gt;bcmmcastctl&lt;/cite&gt; 配置组播IGMP Snooping&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id5"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id18"&gt;2. 核心目标与关键步骤&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;span class="center-strong"&gt;核心目标&lt;/span&gt;&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;保持AiMesh 网络的「一主四从」网络拓扑不变，Internet网络接入功能不变。&lt;/li&gt;
&lt;li&gt;实现IPTV机顶盒，通过有线网络连接至AiMesh节点时，可以播放IPTV直播。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;span class="center-strong"&gt;关键步骤&lt;/span&gt;&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;主路由器的DHCP Option添加。&lt;/li&gt;
&lt;li&gt;主路由器的上的VLAN51,85建立在WAN以及LAN之间。&lt;/li&gt;
&lt;li&gt;主路由器的上IGMP snooping开启。&lt;/li&gt;
&lt;li&gt;主路由器的DHCP Option配置、VLAN配置与IGMP snooping开启脚本持久化，可以任意断电重启。&lt;/li&gt;
&lt;li&gt;在AiMesh节点上，实现节点本地的"上行WAN"与接到IPTV机顶盒的LAN的链路中，支持VLAN51,85，并将配置脚本持久化。&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="section" id="id6"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id19"&gt;3. 工具与基本命令&lt;/a&gt;&lt;/h2&gt;
&lt;div class="section" id="vlan"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id20"&gt;3.1 VLAN的添加与删除&lt;/a&gt;&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;设置VLAN名称与类型&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;cite&gt;vconfig set_name_type DEV_PLUS_VID_NO_PAD&lt;/cite&gt;&lt;/p&gt;
&lt;p&gt;使得 &lt;cite&gt;vlan_name = interface.vlan_id&lt;/cite&gt;&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;添加VLAN&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;cite&gt;vconfig add &amp;lt;interface&amp;gt; &amp;lt;vlan_id&amp;gt;&lt;/cite&gt;&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;删除VLAN&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;cite&gt;vconfig rem &amp;lt;vlan_name&amp;gt;&lt;/cite&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id7"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id21"&gt;3.2 网桥的添加、删除与关联VLAN&lt;/a&gt;&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;添加网桥&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;cite&gt;brctl addbr &amp;lt;bridge_name&amp;gt;&lt;/cite&gt;&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;删除网桥&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;cite&gt;brctl delbr &amp;lt;bridge_name&amp;gt;&lt;/cite&gt;&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;关联VLAN&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;cite&gt;brctl addif &amp;lt;bridge_name&amp;gt; &amp;lt;vlan_name&amp;gt;&lt;/cite&gt;&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;查看网桥&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;cite&gt;brctl show [bridge_name]&lt;/cite&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="igmp-snooping"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id22"&gt;3.3 IGMP snooping 控制&lt;/a&gt;&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;配置IGMP snooping&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;cite&gt;bcmmcastctl mode -i &amp;lt;vlan_name&amp;gt; -p 1 -m &amp;lt;0,1,2&amp;gt;&lt;/cite&gt; 其中&amp;lt;disabled(0), standard(1), blocking(2)&amp;gt;，而 &lt;cite&gt;-p 1&lt;/cite&gt; 是特指igmp。&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;查看IGMP snooping&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;用 &lt;cite&gt;bcmmcastctl show&lt;/cite&gt; 查看全部interface 或者使用 &lt;cite&gt;bcmmcastctl show -p -1&lt;/cite&gt; 仅查看IGMP相关的interface。&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="robocfg-vlan"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id23"&gt;3.4 robocfg 配置物理端口与VLAN的映射&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;(注意， &lt;cite&gt;robocfg&lt;/cite&gt; 适用于AC68U等基于BCM4708芯片、Linux内核2.6的固件，不适用于AC86U这样基于BCM4906芯片、Linux 4.1内核的固件)&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;VLAN标签的端口绑定&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;cite&gt;robocfg vlan &amp;lt;vlan_id&amp;gt; ports "&amp;lt;port&amp;gt;t &amp;lt;port&amp;gt;t"&lt;/cite&gt;&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;查看VLAN标签与绑定的端口&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;cite&gt;robocfg show&lt;/cite&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id8"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id24"&gt;4. 实现方法&lt;/a&gt;&lt;/h2&gt;
&lt;div class="section" id="id9"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id25"&gt;4.1 主路由的VLAN与网桥&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;主路由的WAN为 &lt;cite&gt;eth0&lt;/cite&gt; ，LAN为 &lt;cite&gt;br0&lt;/cite&gt; 。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;vconfig set_name_type DEV_PLUS_VID_NO_PAD
vconfig add eth0 &lt;span class="m"&gt;85&lt;/span&gt;
vconfig add eth0 &lt;span class="m"&gt;51&lt;/span&gt;
vconfig add br0 &lt;span class="m"&gt;85&lt;/span&gt;
vconfig add br0 &lt;span class="m"&gt;51&lt;/span&gt;

brctl addbr iptv
brctl addif iptv eth0.85
brctl addif iptv eth0.51
brctl addif iptv br0.85
brctl addif iptv br0.51

ifconfig eth0.85 up
ifconfig eth0.51 up
ifconfig br0.85 up
ifconfig br0.51 up
ifconfig iptv up
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id10"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id26"&gt;4.2 主路由的IGMP Snooping配置&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;在当没有在主路由上配置IGMP snooping为standard(1)的结果，会导致IPTV的直播频道只能播放1分钟或2分钟，之后就会画面静止。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;bcmmcastctl mode -i iptv -p &lt;span class="m"&gt;1&lt;/span&gt; -m &lt;span class="m"&gt;1&lt;/span&gt;
bcmmcastctl mode -i br0 -p &lt;span class="m"&gt;1&lt;/span&gt; -m &lt;span class="m"&gt;1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="dhcp-option"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id27"&gt;4.3 DHCP Option的添加&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;注意，如果不添加 &lt;cite&gt;=&lt;/cite&gt; 号后面的 &lt;cite&gt;lan&lt;/cite&gt;，则有可能导致dnsmasq发出的DHCP数据包，在Wireshark解析下出现 &lt;cite&gt;Malformed Packet: DHCP/BOOTP&lt;/cite&gt; 的情况。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;dhcp-option-force&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;125&lt;/span&gt;,00:00:00:00:1a:02:06:48:47:57:2d:43:54:03:08:45:2d:31:34:30:57:2d:50:0b:02:00:55:0a:02:20:00
dhcp-option-force&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;60&lt;/span&gt;,00:00:01:00:02:03:43:50:45:03:0e:45:38:20:47:50:4f:4e:20:52:4f:55:54:45:42:04:03:31:2e:30
dhcp-option&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;15&lt;/span&gt;
dhcp-option&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;28&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;span class="hlr"&gt;注意：由于dhcp-option 15对应的是 Domain Name，所以在AC86U的主路由上，需要配置 RT-AC86U's Domain Name (RT-AC86U 的网域名称)。名称任意，但是不能为空，否则会导致B面地址无法获取的情况。&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="aimesh-1vlan"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id28"&gt;4.4 「AiMesh节点-1」的VLAN配置&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;「AiMesh节点-1」不同于AC86U的主节点，是AC68U，所以可以使用 &lt;cite&gt;robocfg&lt;/cite&gt;。另外，IPTV机顶盒通过网线插入在了LAN1口。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;robocfg vlan &lt;span class="m"&gt;85&lt;/span&gt; ports &lt;span class="s2"&gt;"0t 1t"&lt;/span&gt; vlan &lt;span class="m"&gt;51&lt;/span&gt; ports &lt;span class="s2"&gt;"0t 1t"&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;其中， &lt;cite&gt;0t&lt;/cite&gt; 指的是WAN口要带上VLAN对于的标签， &lt;cite&gt;1t&lt;/cite&gt; 指的是LAN1口要带上VLAN对应的标签，总共配置85和51两个端口。&lt;/p&gt;
&lt;p&gt;当然，也可以配置成：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;robocfg vlan &lt;span class="m"&gt;85&lt;/span&gt; ports &lt;span class="s2"&gt;"0t 1t 2t 3t 4t"&lt;/span&gt; vlan &lt;span class="m"&gt;51&lt;/span&gt; ports &lt;span class="s2"&gt;"0t 1t 2t 3t 4t"&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;在这种情况下，IPTV机顶盒可以插在任意的LAN口上了。&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id11"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id29"&gt;4.5 主路由配置持久化&lt;/a&gt;&lt;/h3&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;在koolshare软件中心里，安装 「上海电信IPTV v1.2」插件。&lt;/li&gt;
&lt;li&gt;根据 4.1-4.3 的配置，修改和替换 &lt;cite&gt;/jffs/.koolshare/scripts/&lt;/cite&gt;  目录下的 &lt;cite&gt;shiptv_config.sh&lt;/cite&gt; 和 &lt;cite&gt;shiptv_status.sh&lt;/cite&gt; 两个脚本，并将 &lt;cite&gt;/jffs/.koolshare/init.d/&lt;/cite&gt; 目录下的 &lt;cite&gt;S95Shiptv.sh&lt;/cite&gt; 内容，更新到与 &lt;cite&gt;shiptv_config.sh&lt;/cite&gt; 一致。（ &lt;cite&gt;S95shiptv.sh&lt;/cite&gt; 脚本如果存在，可以删除。）&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="section" id="aimesh-robocfg"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id30"&gt;4.6 AiMesh节点 &lt;cite&gt;robocfg&lt;/cite&gt; 配置持久化&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;由于在实例中，AiMesh节点所使用的是AC68U的固件，所以有 &lt;cite&gt;robocfg&lt;/cite&gt; 的工具支持。另一方面，但由于其不是主路由。所以需要将 4.4 中的配置命令，追加到在 &lt;cite&gt;/jffs/scripts/services-start&lt;/cite&gt; 的最后，而同一目录下的 &lt;cite&gt;wan-start&lt;/cite&gt; 工作在AiMesh节点时，不会生效。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="id12"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id31"&gt;5. 实现结果&lt;/a&gt;&lt;/h2&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;光猫到IPTV机顶盒的逻辑链路&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;span class="hlr"&gt;光猫&lt;/span&gt;  --[VLAN 51,85]-- &lt;span class="hlr"&gt;主路由器&lt;/span&gt;  --[VLAN 51,85]-- &lt;span class="hlr"&gt;AiMesh节点-1&lt;/span&gt;  --[VLAN 51,85]-- &lt;span class="hlr"&gt;IPTV机顶盒&lt;/span&gt;&lt;/p&gt;
&lt;ol class="arabic simple" start="2"&gt;
&lt;li&gt;「AiMesh节点-1」上支持IPTV机顶盒的VLAN&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;使用 &lt;cite&gt;robocfg show&lt;/cite&gt; 查看&lt;/li&gt;
&lt;/ul&gt;
&lt;img alt="" class="align-center" src="../images/2022/04-02/shanghai-telecom-and-asuswrt-merlin-support-iptv-2.jpg"/&gt;
&lt;ol class="arabic simple" start="3"&gt;
&lt;li&gt;主路由的VLAN 51,85配置&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;使用 &lt;cite&gt;cat /proc/net/vlan/config&lt;/cite&gt; 查看&lt;/li&gt;
&lt;/ul&gt;
&lt;img alt="" class="align-center" src="../images/2022/04-02/shanghai-telecom-and-asuswrt-merlin-support-iptv-3.jpg"/&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;使用 &lt;cite&gt;ip addr&lt;/cite&gt; 查看&lt;/li&gt;
&lt;/ul&gt;
&lt;img alt="" class="align-center" src="../images/2022/04-02/shanghai-telecom-and-asuswrt-merlin-support-iptv-4.jpg"/&gt;
&lt;ol class="arabic simple" start="4"&gt;
&lt;li&gt;主路由服务于VLAN 51,85的网桥&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;名为 &lt;cite&gt;iptv&lt;/cite&gt; 的网桥，负责了51,85两个VLAN的桥接。&lt;/p&gt;
&lt;img alt="" class="align-center" src="../images/2022/04-02/shanghai-telecom-and-asuswrt-merlin-support-iptv-5.jpg"/&gt;
&lt;ol class="arabic simple" start="5"&gt;
&lt;li&gt;主路由IGMP snooping&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;在网桥 &lt;cite&gt;iptv&lt;/cite&gt; 以及 主路由器的 LAN (br0) 上，都启用了IGMP snooping( &lt;cite&gt;snooping mode 1&lt;/cite&gt; ) ，但在 &lt;cite&gt;br0.85&lt;/cite&gt; 以及  &lt;cite&gt;br0.51&lt;/cite&gt; 上，都blocking了IGMP snooping ( &lt;cite&gt;snooping mode 2&lt;/cite&gt; )&lt;/p&gt;
&lt;img alt="" class="align-center" src="../images/2022/04-02/shanghai-telecom-and-asuswrt-merlin-support-iptv-6.jpg"/&gt;
&lt;ol class="arabic simple" start="6"&gt;
&lt;li&gt;主路由网络吞吐&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;cite&gt;eth0&lt;/cite&gt; 主路由WAN口，被光猫分配到的是 192.168.1.0/24的地址，即192.168.1.3&lt;/li&gt;
&lt;li&gt;&lt;cite&gt;br0&lt;/cite&gt; 主路由内部的LAN，自主DHCP的网段是 10.0.0.0/24的地址，即主路由IP地址为10.0.0.1&lt;/li&gt;
&lt;/ul&gt;
&lt;img alt="" class="align-center" src="../images/2022/04-02/shanghai-telecom-and-asuswrt-merlin-support-iptv-7.jpg"/&gt;
&lt;/div&gt;
</content><category term="experiences"></category><category term="上海电信"></category><category term="IPTV"></category><category term="ASUS AiMesh"></category><category term="VLAN"></category></entry><entry><title>时刻、不断保持对自己的觉知</title><link href="/articles/always-keep-the-awareness-of-myself" rel="alternate"></link><published>2021-03-13T00:00:00+08:00</published><updated>2021-03-13T00:00:00+08:00</updated><author><name>Wang YanJiong</name></author><id>tag:None,2021-03-13:/articles/always-keep-the-awareness-of-myself</id><summary type="html">&lt;p class="first last"&gt;保持对自己的觉知，才会有反省；养成习惯自律，才能拥有美德。&lt;/p&gt;
</summary><content type="html">
&lt;div class="section" id="id2"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id5"&gt;没忍住，凶了保安一句&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;办公室楼下的非机动车停车场，使用临时不锈钢的围栏拦起来的。这种围栏，可以经常在商场、机场、车站的地方看到，一般的用途是疏导人流。&lt;/p&gt;
&lt;p&gt;也许是因为在规划的时候，开发商并没有考虑到非机动车的停车问题，所以才用临时围栏的办法，隔出了一个非机动车停车区域。&lt;/p&gt;
&lt;p&gt;在工作日，会有两个出入口。类似于一个曰字的左上角和中右侧。而大家也会自动的把车停成两排，也就是曰字的上下两排。&lt;/p&gt;
&lt;p&gt;到了周末，人少了，车也少了，只有零星的几辆车，停在了曰字的下面一排。而我，也习惯性的停在了左上角的第一个。&lt;/p&gt;
&lt;p&gt;此时，保安走了过来，说到"请你把车停到那一排。"&lt;/p&gt;
&lt;p&gt;我说，"为什么？"&lt;/p&gt;
&lt;p&gt;他说，"这里是进出通道，堵住了。"&lt;/p&gt;
&lt;p&gt;我气愤的说道，"我每天都停这个位置，为什么今天就堵住了？搞什么啊？"&lt;/p&gt;
&lt;p&gt;（习惯上，工作日我都会把车停在左上角的第一个，并留出足够的空间让其他车通行。实际上，这个位置明没有超出围栏的长度，也就是说，我的车并没有把围栏"延长"，从而阻挡别人的通行。）&lt;/p&gt;
&lt;p&gt;说罢，锁上车就走了。只听见保安在背后唠叨道，"这就是高素质的人"。&lt;/p&gt;
&lt;p&gt;不争辩，离开。&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="id3"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id6"&gt;反思&lt;/a&gt;&lt;/h2&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;还是没有很好的接受无常的不确定性，用惯性来生活永远是最舒适的。&lt;/li&gt;
&lt;li&gt;没有仔细倾听保安大叔的实际诉求，即便是"堵住了通道"，在实际场景下并不成立。&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;沟通是双向的责任&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last"&gt;
&lt;li&gt;也许大叔的本意是让这些车看起来更加整齐，而并不是"堵住了通道"。&lt;/li&gt;
&lt;li&gt;对于自己不如意的结果，简单的给对方贴个"不好的"标签，是快速提高自尊水平、推卸责任、保持惯性行为的方法&lt;/li&gt;
&lt;li&gt;沟通要求也讲究时机，"事前+可以理解的理由"比事后"要求改正"有用的多。&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;也许在内心评判包含保安大叔的行为，也不是明智之举。因为，克里希那穆提说过"智慧的最高形式是不带评判的观察。"&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="section" id="id4"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id7"&gt;能做些什么？&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;span class="hlb"&gt;那么，需要道歉吗？&lt;/span&gt;&lt;/p&gt;
&lt;/div&gt;
</content><category term="experiences"></category><category term="经验"></category><category term="沟通"></category><category term="自省"></category></entry><entry><title>使用Nexus3进行Snapshot和Release管理</title><link href="/articles/nexus3-maven-snapshot-and-release" rel="alternate"></link><published>2017-01-23T21:34:00+08:00</published><updated>2017-01-23T21:34:00+08:00</updated><author><name>Wang YanJiong</name></author><id>tag:None,2017-01-23:/articles/nexus3-maven-snapshot-and-release</id><summary type="html">&lt;p class="first last"&gt;介绍 nexus3、parent pom以及 project pom的distribution management.&lt;/p&gt;
</summary><content type="html">
&lt;!-- --&gt;
&lt;div class="section" id="nexus3"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id1"&gt;Nexus3中的关键角色与用户&lt;/a&gt;&lt;/h2&gt;
&lt;div class="section" id="snapshotdeploy"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id2"&gt;Snapshot库的Deploy角色&lt;/a&gt;&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;nx-repository-view-maven2-maven-snapshots-edit&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在Nexus库中创建拥有以上角色的用户，例如 &lt;cite&gt;developer&lt;/cite&gt;。&lt;/p&gt;
&lt;p&gt;这个角色，必须要包含 &lt;cite&gt;nx-anonymous&lt;/cite&gt; 这个「匿名角色」，否则会被以 &lt;cite&gt;ReasonPhrase:Forbidden.&lt;/cite&gt; 理由拒绝。&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="releasedeploy"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id3"&gt;Release库的Deploy角色&lt;/a&gt;&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;nx-repository-view-maven2-maven-releases-edit&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;在Nexus库中创建拥有以上角色的用户，例如 &lt;cite&gt;publisher&lt;/cite&gt;。&lt;/p&gt;
&lt;p&gt;这个角色，必须要包含 &lt;cite&gt;nx-anonymous&lt;/cite&gt; 这个「匿名角色」，否则会被以 &lt;cite&gt;ReasonPhrase:Forbidden.&lt;/cite&gt; 理由拒绝。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="m2-settings-xmlservers"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id4"&gt;.m2/settings.xml中servers的设置&lt;/a&gt;&lt;/h2&gt;
&lt;pre class="code xml literal-block"&gt;
&lt;span class="nt"&gt;&amp;lt;settings&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;servers&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;server&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;id&amp;gt;&lt;/span&gt;snapshot&lt;span class="nt"&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;username&amp;gt;&lt;/span&gt;developer&lt;span class="nt"&gt;&amp;lt;/username&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;password&amp;gt;&lt;/span&gt;password-of-developer-in-nexus&lt;span class="nt"&gt;&amp;lt;/password&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/server&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;server&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;id&amp;gt;&lt;/span&gt;release&lt;span class="nt"&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;username&amp;gt;&lt;/span&gt;publisher&lt;span class="nt"&gt;&amp;lt;/username&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;password&amp;gt;&lt;/span&gt;password-of-publisher-in-nexus&lt;span class="nt"&gt;&amp;lt;/password&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/server&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/servers&amp;gt;&lt;/span&gt;
...
&lt;span class="nt"&gt;&amp;lt;/settings&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;
&lt;div class="section" id="maven-project"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id5"&gt;maven project&lt;/a&gt;&lt;/h2&gt;
&lt;div class="section" id="super-parent-maven-project"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id6"&gt;super-parent maven project&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;对于每个组织或者企业，使用一个顶级的、唯一的parent project是十分有必要的，这可以统一各级子工程的发布管理配置。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="nt"&gt;&amp;lt;scm&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;url&amp;gt;&lt;/span&gt;http://your.domain/and-path&lt;span class="nt"&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;connection&amp;gt;&lt;/span&gt;scm:git:ssh://git@your.vcs.domain/your-path&lt;span class="nt"&gt;&amp;lt;/connection&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/scm&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;distributionManagement&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;snapshotRepository&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;id&amp;gt;&lt;/span&gt;snapshot&lt;span class="nt"&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;url&amp;gt;&lt;/span&gt;http://your.nexus/repository/maven-snapshots&lt;span class="nt"&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/snapshotRepository&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;repository&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;id&amp;gt;&lt;/span&gt;release&lt;span class="nt"&gt;&amp;lt;/id&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;url&amp;gt;&lt;/span&gt;http://your.nexus/repository/maven-releases&lt;span class="nt"&gt;&amp;lt;/url&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/repository&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/distributionManagement&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;build&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;pluginManagement&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;plugins&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;plugin&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;maven-release-plugin&lt;span class="nt"&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
                &lt;span class="nt"&gt;&amp;lt;version&amp;gt;&lt;/span&gt;2.5.3&lt;span class="nt"&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
            &lt;span class="nt"&gt;&amp;lt;/plugin&amp;gt;&lt;/span&gt;
        &lt;span class="nt"&gt;&amp;lt;/plugins&amp;gt;&lt;/span&gt;
    &lt;span class="nt"&gt;&amp;lt;/pluginManagement&amp;gt;&lt;/span&gt;
&lt;span class="nt"&gt;&amp;lt;/build&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;其中，&lt;tt class="docutils literal"&gt;snapshotRepository&lt;/tt&gt; 中的 &lt;tt class="docutils literal"&gt;id&lt;/tt&gt; 与 &lt;tt class="docutils literal"&gt;.m2/settings.xml&lt;/tt&gt; 中的 &lt;tt class="docutils literal"&gt;server/id&lt;/tt&gt; 需要保持一致。&lt;/p&gt;
&lt;p&gt;在例子中，两处都都同时使用了 &lt;tt class="docutils literal"&gt;snapshot` 以及 ``release&lt;/tt&gt; 。&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="snapshot-deploy"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id7"&gt;snapshot deploy&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;snapshot deploy 是每个developer日常进行snapshot library发布的正常行为。&lt;/p&gt;
&lt;p&gt;在每个developer的本地，都可以针对一个 maven project 执行： &lt;tt class="docutils literal"&gt;mvn deploy&lt;/tt&gt; 操作，将任意的 &lt;tt class="docutils literal"&gt;Version&lt;/tt&gt; 以 &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;-SNAPSHOT&lt;/span&gt;&lt;/tt&gt; 结尾的 &lt;tt class="docutils literal"&gt;artifact&lt;/tt&gt; 部署至 &lt;tt class="docutils literal"&gt;snapshot&lt;/tt&gt; 库中。&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="release-publish"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id8"&gt;release publish&lt;/a&gt;&lt;/h3&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;maven-release-plugin&lt;/span&gt;&lt;/tt&gt; 是用作正式发布使用的maven插件。&lt;/p&gt;
&lt;p&gt;其中有两个关键的mvn 指令， &lt;tt class="docutils literal"&gt;mvn release:prepare&lt;/tt&gt; 以及 &lt;tt class="docutils literal"&gt;mvn release:perform&lt;/tt&gt;&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;mvn release:prepare&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这个指令主要的操作目标是VCS (例如GitLab) ，它的执行条件有：&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;本地的所有代码已经提交，对于git而言，本地的所有代码，都已经经过 &lt;tt class="docutils literal"&gt;git push&lt;/tt&gt; ，也就是说stage区不存在修改过的文件。&lt;/li&gt;
&lt;li&gt;mave坐标中的Version，必须以 &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;-SNAPSHOT&lt;/span&gt;&lt;/tt&gt; 结尾，否则该指令会罢工。这个指令的执行过程，是交互式的，它会询问三项内容：&lt;/li&gt;
&lt;li&gt;指定要发布的Version值，一般来说，它会自动提示不包含 &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;-SNAPSHOT&lt;/span&gt;&lt;/tt&gt; 部分的版本号&lt;/li&gt;
&lt;li&gt;VCS的tag名称。例如，git分支上的tag。&lt;/li&gt;
&lt;li&gt;下一个开发版，含的 &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;-SNAPSHOT&lt;/span&gt;&lt;/tt&gt; 版本号，一般来说，它会自动将最后一位数字版本号自动增加1。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;这个动作执行之后，会生成两个主要的文件：&lt;/p&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;原来pom.xml的备份文件&lt;/li&gt;
&lt;li&gt;release.properties，即本次release的相关信息。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;同时，这个指令还会对修改后的release版本进行&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;mvn release:perform&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这个指令主要的操作目标是仓库 (Repository，例如 Nexus)。&lt;/p&gt;
&lt;p&gt;它的主要目的，是把本地已经生成好的 release library 部署至仓库。并不会对 VCS 进行任何写操作。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
</content><category term="experiences"></category><category term="maven"></category><category term="nexus3"></category><category term="scm"></category></entry><entry><title>Happy Hacking Keyboard Professional 2 Type-S</title><link href="/articles/hhkb-pro2-type_s-cheat-sheet" rel="alternate"></link><published>2016-12-05T21:12:00+08:00</published><updated>2016-12-05T21:12:00+08:00</updated><author><name>Wang YanJiong</name></author><id>tag:None,2016-12-05:/articles/hhkb-pro2-type_s-cheat-sheet</id><summary type="html">&lt;p class="first last"&gt;HHKB 在 macOS 上的使用速记&lt;/p&gt;
</summary><content type="html">&lt;div class="section" id="id1"&gt;
&lt;h2&gt;键帽&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;空格键的键帽，最好拆卸来之后反装，否则容易伤到大拇指&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="id2"&gt;
&lt;h2&gt;光标移动组合键&lt;/h2&gt;
&lt;p&gt;其实下面这些快捷键，都是macOS自带的快捷键&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;上一行 &lt;tt class="docutils literal"&gt;CTRL&lt;/tt&gt; + &lt;tt class="docutils literal"&gt;p&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;下一行 &lt;tt class="docutils literal"&gt;CTRL&lt;/tt&gt; + &lt;tt class="docutils literal"&gt;n&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;行首 &lt;tt class="docutils literal"&gt;CTRL&lt;/tt&gt; + &lt;tt class="docutils literal"&gt;a&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;行末 &lt;tt class="docutils literal"&gt;CTRL&lt;/tt&gt; + &lt;tt class="docutils literal"&gt;e&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;删除后一个字符 &lt;tt class="docutils literal"&gt;CTRL&lt;/tt&gt; + &lt;tt class="docutils literal"&gt;d&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;删除前一个字符 &lt;tt class="docutils literal"&gt;CTRL&lt;/tt&gt; + &lt;tt class="docutils literal"&gt;h&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;删除光标之后的所有内容 &lt;tt class="docutils literal"&gt;CTRL&lt;/tt&gt; + &lt;tt class="docutils literal"&gt;k&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;交换光标左右两个字符 &lt;tt class="docutils literal"&gt;CTRL&lt;/tt&gt; + &lt;tt class="docutils literal"&gt;t&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;移到下一个字符 &lt;tt class="docutils literal"&gt;CTRL&lt;/tt&gt; + &lt;tt class="docutils literal"&gt;f&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;移到下一个字符 &lt;tt class="docutils literal"&gt;CTRL&lt;/tt&gt; + &lt;tt class="docutils literal"&gt;b&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;括号匹配 &lt;tt class="docutils literal"&gt;CTRL&lt;/tt&gt; + &lt;tt class="docutils literal"&gt;m&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="id3"&gt;
&lt;h2&gt;参考资料&lt;/h2&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://kaochenlong.com/2013/06/29/about-hhkb-pro2/"&gt;http://kaochenlong.com/2013/06/29/about-hhkb-pro2/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://support.apple.com/en-us/HT201236"&gt;https://support.apple.com/en-us/HT201236&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
</content><category term="experiences"></category><category term="HHKB"></category><category term="macOS"></category></entry><entry><title>用Atom在Mac OS X 下编辑PlantUML</title><link href="/articles/PUMLMacOSXAtomEditor" rel="alternate"></link><published>2016-01-29T15:18:00+08:00</published><updated>2016-01-30T10:39:00+08:00</updated><author><name>Wang YanJiong</name></author><id>tag:None,2016-01-29:/articles/PUMLMacOSXAtomEditor</id><summary type="html"></summary><content type="html">
&lt;!-- --&gt;
&lt;p&gt;Atom的插件: plantuml-viewer 它支持&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;对 &lt;code&gt;plantuml&lt;/code&gt; 文本直接进行进行预览，不需要依赖 &lt;code&gt;plantuml.jar&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;支持另存为 &lt;code&gt;svg&lt;/code&gt; , &lt;code&gt;eps&lt;/code&gt; , &lt;code&gt;png&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="section" id="id1"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id7"&gt;基础环境&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;&lt;a class="reference external" href="https://github.com/caskroom/homebrew-cask"&gt;brew cask&lt;/a&gt;&lt;/p&gt;
&lt;pre class="literal-block"&gt;
brew install caskroom/cask/brew-cask
&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;pandoc&lt;/p&gt;
&lt;pre class="literal-block"&gt;
brew install graphviz
&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="id2"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id8"&gt;编写与预览&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;&lt;a class="reference external" href="http://atom.io"&gt;Atom&lt;/a&gt;&lt;/p&gt;
&lt;pre class="literal-block"&gt;
brew cask install atom
&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Atom 插件&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="https://atom.io/packages/plantuml-viewer"&gt;plantuml-viewer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://atom.io/packages/language-plantuml"&gt;language-plantuml&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;不推荐的Atom插件&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="https://atom.io/packages/plantuml-preview"&gt;plantuml-preview&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;理由: 还需要依赖 &lt;code&gt;plantuml.jar&lt;/code&gt;, &lt;a class="reference external" href="http://plantuml.com/download.html"&gt;它在这里&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="id4"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id9"&gt;其他相关&lt;/a&gt;&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Chome Extension: &lt;a class="reference external" href="https://chrome.google.com/webstore/detail/plantuml-viewer/legbfeljfbjgfifnkmpoajgpgejojooj"&gt;PlantUML Viewer&lt;/a&gt; ，它实际上使用的是 &lt;a class="reference external" href="http://www.plantuml.com/plantuml/"&gt;PlantUML Server&lt;/a&gt;  进行图片的实时生成&lt;ul&gt;
&lt;li&gt;支持中文，但字体渲染不够好&lt;/li&gt;
&lt;li&gt;首行必须是 &lt;code&gt;@startuml&lt;/code&gt;，否则无法阅览&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Firefox Add-ons: 暂时未找到&lt;/li&gt;
&lt;li&gt;基于IntelliJ IDEA的扩展: &lt;a class="reference external" href="http://plugins.jetbrains.com/plugin/?idea&amp;amp;id=7017"&gt;PlantUML integration&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://plantuml.com/eclipse.html"&gt;Eclipse Plugin&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="id6"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id10"&gt;效果&lt;/a&gt;&lt;/h2&gt;
&lt;img alt="AutoWithPlantUML ScreenShot" src="/images/2016/01-29/AtomWithPlantUML.png"/&gt;
&lt;/div&gt;
</content><category term="experiences"></category><category term="PlantUML"></category><category term="Atom"></category><category term="Mac OS X"></category><category term="效率"></category></entry><entry><title>用Atom在Mac OS X 下编辑reStructuredText</title><link href="/articles/RSTMacOSXAtomEditor" rel="alternate"></link><published>2015-10-30T23:33:00+08:00</published><updated>2015-10-31T16:13:00+08:00</updated><author><name>Wang YanJiong</name></author><id>tag:None,2015-10-30:/articles/RSTMacOSXAtomEditor</id><summary type="html"></summary><content type="html">
&lt;!-- --&gt;
&lt;div class="section" id="id1"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id5"&gt;基础环境&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;&lt;a class="reference external" href="https://github.com/caskroom/homebrew-cask"&gt;brew cask&lt;/a&gt;&lt;/p&gt;
&lt;pre class="literal-block"&gt;
brew install caskroom/cask/brew-cask
&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;pandoc&lt;/p&gt;
&lt;pre class="literal-block"&gt;
brew install pandoc
&lt;/pre&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="id2"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id6"&gt;工具&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p class="first"&gt;&lt;a class="reference external" href="http://atom.io"&gt;Atom&lt;/a&gt;&lt;/p&gt;
&lt;pre class="literal-block"&gt;
brew cask install atom
&lt;/pre&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p class="first"&gt;Atom 插件&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="https://github.com/Lukasa/language-restructuredtext"&gt;language-restructuredtext&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;(预览首选) &lt;a class="reference external" href="https://github.com/tohosokawa/rst-preview-pandoc"&gt;rst-preview-pandoc&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;(预览备选) &lt;a class="reference external" href="https://github.com/lsegal/atom-rst-preview"&gt;rst-preview&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="id3"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id7"&gt;设置&lt;/a&gt;&lt;/h2&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;rst-preview-pandoc&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;设置 &lt;tt class="docutils literal"&gt;pandoc path&lt;/tt&gt; , 通过 &lt;tt class="docutils literal"&gt;brew install&lt;/tt&gt; 的工具，一般都位于 &lt;tt class="docutils literal"&gt;/usr/local/bin&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;采用 &lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;rst-preview-pandoc&lt;/span&gt;&lt;/tt&gt; 时，可以忽略 &lt;tt class="docutils literal"&gt;Bugfix 1&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;在设置 &lt;tt class="docutils literal"&gt;pandoc path&lt;/tt&gt; 后，应当不会出现 &lt;tt class="docutils literal"&gt;Bugfix 2&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="bugfix"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id8"&gt;Bugfix&lt;/a&gt;&lt;/h2&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;rst-preview&lt;/span&gt;&lt;/tt&gt; &lt;a class="reference external" href="https://github.com/lsegal/atom-rst-preview/issues/33"&gt;Live preview not working Atom 1.0.11&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;~/.atom/packages/rst-preview/lib/rst-preview.coffee&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;
&lt;pre class="literal-block"&gt;
# line 76-77
# grammars = atom.config.get('rst-preview.grammars') ? []
# return unless editor.getGrammar().scopeName in grammars
&lt;/pre&gt;
&lt;/blockquote&gt;
&lt;ol class="arabic simple" start="2"&gt;
&lt;li&gt;Workaround on OSX for pandoc could not be spawned error&lt;/li&gt;
&lt;/ol&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;&lt;span class="pre"&gt;~/.atom/init.coffee&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;
&lt;pre class="literal-block"&gt;
process.env.PATH = ["/usr/bin",
            "/usr/local/bin",
            ].join(":")
&lt;/pre&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="id4"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id9"&gt;效果&lt;/a&gt;&lt;/h2&gt;
&lt;img alt="AutoWithRST ScreenShot" src="/images/2015/10-30/AtomWithRST.png"/&gt;
&lt;/div&gt;
</content><category term="experiences"></category><category term="reStructuredText"></category><category term="Atom"></category><category term="Mac OS X"></category><category term="效率"></category></entry><entry><title>Mac OS X环境</title><link href="/articles/MacOSXEnvironment" rel="alternate"></link><published>2015-10-18T00:00:00+08:00</published><updated>2015-10-30T21:17:00+08:00</updated><author><name>Wang YanJiong</name></author><id>tag:None,2015-10-18:/articles/MacOSXEnvironment</id><summary type="html"></summary><content type="html">
&lt;!-- --&gt;
&lt;div class="section" id="mail"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id1"&gt;Mail&lt;/a&gt;&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Mail.app&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="browser"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id2"&gt;Browser&lt;/a&gt;&lt;/h2&gt;
&lt;div class="section" id="chrome-extensions"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id3"&gt;Chrome (Extensions)&lt;/a&gt;&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="https://chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif"&gt;SwitchyOmega&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;1Password&lt;/li&gt;
&lt;li&gt;AdBlock Plus&lt;/li&gt;
&lt;li&gt;Evernote&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="chrome-app"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id4"&gt;Chrome (App)&lt;/a&gt;&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="https://www.getpostman.com/"&gt;Postman&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://www.gliffy.com/)"&gt;Gliffy&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://processon.com"&gt;ProcessOn&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="firefox-adds-on"&gt;
&lt;h3&gt;&lt;a class="toc-backref" href="#id5"&gt;Firefox (Adds-on)&lt;/a&gt;&lt;/h3&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;Firebug&lt;/li&gt;
&lt;li&gt;FoxyProxy&lt;/li&gt;
&lt;li&gt;Firegesture&lt;/li&gt;
&lt;li&gt;1Password&lt;/li&gt;
&lt;li&gt;AdBlock Plus&lt;/li&gt;
&lt;li&gt;Evernote&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="rss"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id6"&gt;RSS&lt;/a&gt;&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://reederapp.com/mac/"&gt;Reeder 3&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="editor-ide"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id7"&gt;Editor &amp;amp; IDE&lt;/a&gt;&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://sublimetext.com"&gt;Sublime Text&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://atom.io"&gt;Atom&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="25.io/mou"&gt;Mou&lt;/a&gt; / &lt;a class="reference external" href="http://macdown.uranusjr.com"&gt;MacDown&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.barebones.com/products/bbedit"&gt;BBEditor&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://www.jetbrains.com/idea/"&gt;IntelliJ IDEA&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://www.jetbrains.com/pycharm/"&gt;PyCharm&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="version-control"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id8"&gt;Version Control&lt;/a&gt;&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="https://www.sourcetreeapp.com/"&gt;SourceTree&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://www.zennaware.com/cornerstone/index.php"&gt;Cornerstone&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="database"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id9"&gt;DataBase&lt;/a&gt;&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.navicat.com"&gt;Navicat&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="notebook"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id10"&gt;Notebook&lt;/a&gt;&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="http://evernote.com"&gt;Evernote&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="security"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id11"&gt;Security&lt;/a&gt;&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="https://agilebits.com/onepassword"&gt;1password&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="efficiency"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id12"&gt;Efficiency&lt;/a&gt;&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="https://www.alfredapp.com/powerpack/"&gt;Alfred Powerpack&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://www.spectacleapp.com/"&gt;Spectacle&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://www.iterm2.com/"&gt;iTerm2&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://www.zsh.org/"&gt;zsh&lt;/a&gt; + &lt;a class="reference external" href="https://github.com/robbyrussell/oh-my-zsh"&gt;oh-my-zsh&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://brew.sh"&gt;Homebrew&lt;/a&gt; + &lt;a class="reference external" href="https://github.com/caskroom/homebrew-cask"&gt;homebrew cask&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;RamDisk&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last"&gt;
&lt;li&gt;Automator&lt;/li&gt;
&lt;li&gt;Shell&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;li&gt;&lt;dl class="first docutils"&gt;
&lt;dt&gt;Socks5&lt;/dt&gt;
&lt;dd&gt;&lt;ul class="first last"&gt;
&lt;li&gt;socat / netcat&lt;/li&gt;
&lt;/ul&gt;
&lt;/dd&gt;
&lt;/dl&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="synchronize"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id13"&gt;Synchronize&lt;/a&gt;&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="https://dropbox.com"&gt;Dropbox&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="calendar"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id14"&gt;Calendar&lt;/a&gt;&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="www.galaworks.com/lunarcal/"&gt;LunarCal&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="https://flexibits.com/fantastical"&gt;Fantastical&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="remote"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id15"&gt;Remote&lt;/a&gt;&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;&lt;a class="reference external" href="https://www.vandyke.com/products/securecrt/mac_osx.html"&gt;SecureCRT&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a class="reference external" href="http://cord.sourceforge.net/"&gt;CoRD&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
</content><category term="experiences"></category><category term="效率"></category><category term="Mac OS X"></category></entry><entry><title>Pelican TOC Plugin</title><link href="/articles/pelican-toc-plugin" rel="alternate"></link><published>2015-10-16T00:00:00+08:00</published><updated>2015-10-17T00:00:00+08:00</updated><author><name>Wang YanJiong</name></author><id>tag:None,2015-10-16:/articles/pelican-toc-plugin</id><summary type="html"></summary><content type="html">
&lt;!-- --&gt;
&lt;div class="section" id="id1"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id3"&gt;插件准备&lt;/a&gt;&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;使用 &lt;a class="reference external" href="https://github.com/getpelican/pelican-plugins/tree/master/extract_toc"&gt;extract_toc&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;执行 &lt;tt class="docutils literal"&gt;git clone &lt;span class="pre"&gt;https://github.com/getpelican/pelican-plugins.git&lt;/span&gt;&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class="section" id="id2"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id4"&gt;修改配置文件&lt;/a&gt;&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;文件：&lt;tt class="docutils literal"&gt;pelicanconf.py&lt;/tt&gt;&lt;/li&gt;
&lt;li&gt;指定插件目录&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;PLUGIN_PATHS = &lt;span class="pre"&gt;['&amp;lt;your_path&amp;gt;/getpelican/pelican-plugins']&lt;/span&gt;&lt;/tt&gt;&lt;/p&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;启用插件&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;tt class="docutils literal"&gt;PLUGINS = ['extract_toc']&lt;/tt&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="markdown"&gt;
&lt;h2&gt;&lt;a class="toc-backref" href="#id5"&gt;Markdown标记&lt;/a&gt;&lt;/h2&gt;
&lt;ul class="simple"&gt;
&lt;li&gt;插入 &lt;tt class="docutils literal"&gt;[TOC]&lt;/tt&gt; 标签，例如：&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;title: Pelican TOC Plugin
date: 2015-10-16
modified: 2015-10-17
tags: pelican
category: pelican
[TOC]
### 插件准备
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
</content><category term="experiences"></category><category term="Pelican"></category></entry></feed>