<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>书的结构化摘要设计  @ 王延炯 · 观世界 | World Insight
</title>
    <meta name="description" content="">
    <meta name="author" content="Wang YanJiong">


    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">


    <link href="/theme/css/sinestudio.css" rel="stylesheet">
    <link href="/theme/css/timeline.css" rel="stylesheet">

        <link href="feeds/all.atom.xml" rel="alternate" title="王延炯 · 观世界 | World Insight" type="application/atom+xml">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-141804672-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-141804672-1');
    </script>
    <script src="//code.jquery.com/jquery-3.7.1.min.js"
            integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
            crossorigin="anonymous"></script>

</head>

<body>

<nav class="navbar navbar-expand-sm navbar-dark bg-dark">
    <div class="container-fluid">
        <a class="navbar-brand" href="/">王延炯 · 观世界 | World Insight</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarText" aria-controls="navbarText" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarText">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item"><a class="nav-link" href="/categories/ideas">观点</a></li>
                <li class="nav-item"><a class="nav-link" href="/categories/experiences">经验</a></li>
                <li class="nav-item"><a class="nav-link" href="/categories/violincello">大提琴</a></li>
                <li class="nav-item"><a class="nav-link" href="/categories/bicycles">自行车</a></li>
                <li class="nav-item"><a class="nav-link" href="/categories/book-digests">精文萃义</a></li>
                <li class="nav-item"><a class="nav-link" href="/the-opinion-museum">观点博物馆</a></li>
                <li class="nav-item"><a class="nav-link" href="/three">三</a></li>
                <li class="nav-item"><a class="nav-link" href="/mindset">~Mindset</a></li>
            </ul>
            <span class="navbar-text">start with why, less is more.</span>
        </div>
    </div>
</nav>
<div class="container">

    <div class="row">
        <div class="col-md-3">
<div class="sidebar">
    <h2>目录</h2>
    <div class="toc" id="">
<p class="topic-title">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#id2" id="id9">内容的基本单位</a><ul>
<li><a class="reference internal" href="#id3" id="id10">正文</a></li>
<li><a class="reference internal" href="#to-do" id="id11">插图 (//To Do)</a></li>
<li><a class="reference internal" href="#outline" id="id12">大纲（Outline）</a></li>
<li><a class="reference internal" href="#id4" id="id13">目录（Contents）</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id5" id="id14">图书的内容关联</a></li>
<li><a class="reference internal" href="#id6" id="id15">组织内容的坐标</a><ul>
<li><a class="reference internal" href="#id7" id="id16">纸质书投影</a></li>
<li><a class="reference internal" href="#id8" id="id17">电子书投影 (//To Do)</a></li>
</ul>
</li>
</ul>
</div>
</div>

        </div>
        <div class="col-md-9">
    <div class='article'>
        <div class="article-title">
            <h1>书的结构化摘要设计</h1>
        </div>
        <div class="article-metadata">
<div class="text-center">
  <p>
    <span class="glyphicon">2023-05-03</span>


  </p>
</div>
<div class="text-center">
  <ul class="list-of-tags tags-in-article">
      <li><a href="/tags/guan-dian-bo-wu-guan">观点博物馆
            <sup>1</sup></a>
      </li>
      <li><a href="/tags/opinion-dynamics">Opinion Dynamics
            <sup>1</sup></a>
      </li>
      <li><a href="/tags/zhi-shi-jie-gou-hua">知识结构化
            <sup>1</sup></a>
      </li>
      <li><a href="/tags/zhi-shi-tu-pu">知识图谱
            <sup>1</sup></a>
      </li>
  </ul>
</div>
<div class="article-summary">
  <p><p class="first last">图书的结构化表达：段落、大纲、目录、图书和印刷坐标。</p>
</p>
</div>
        </div>
        <div class="article-content beapow-article">
<div class="section" id="id2">
<h2><a class="toc-backref" href="#id9">内容的基本单位</a></h2>
<div class="section" id="id3">
<h3><a class="toc-backref" href="#id10">正文</a></h3>
<p><span class="center-strong">段落（Paragraph）</span>
每个具体的段落，具备唯一的 <tt class="docutils literal">Identifier (_id)</tt> ，一个段落可以被反复编辑。因为段落要表达的意思，是可以通过一个"标题"进行抽象的，段落间如何组织先后顺序，是在"标题"与"段落"的关联关系中进行记录。</p>
<p><code>paragraph = {_id, text}</code></p>
<p>例子</p>
<div class="highlight"><pre><span></span>[{
  "_id": { "$oid": "6454c6b0280ed6fd73c3969d" },
  "text": "在本书中，我认为，西方缘何主宰世界的问题实际上是关于社会发展的问题。这里的社会发展是指社会达成目标的能力，即社会通过影响物理、经济、社会、智力等环境以达到相应目标。19~20世纪，西方观察家讲社会发展视为理所当然的好事。他们含蓄或者公开地说，发展就是进步（或者进化，或者历史），而进步——不管是向着上帝、富裕还是人民的天堂——是生活的意义。现在，这些意义似乎不那么显而易见了。很多人感到，社会发展过程中带来的种种弊端，如环境恶化、战争、不平等和幻想破灭，要远比收益多得多。"
},{
  "_id": { "$oid": "6454c6e6280ed6fd73c396a0" },
  "text": "\"历史：名词，指一种往往虚假的记录，记录的大多是无关紧要的事情。这些事情由统治者和军人引起，这统治者大多是无赖，而军人往往是傻子。\"安布鲁斯·比尔斯（Ambrose Bierce）关于历史的这条风趣的定义，有时你不得不赞同：看起来历史似乎仅仅是一件讨厌的事情接着另一件，是天才和傻子，暴君和浪漫派、诗人和盗贼混杂在一起的一团乱麻，或创造非凡之举，或在堕落边缘挣扎。"
},{
  "_id": { "$oid": "6454c716280ed6fd73c396a1" },
  "text": "第一种工具是生物学，生物学告诉我们，真实的人类是什么——聪明的猿猴。我们是动物王国的一部分，而动物王国又是从大型人猿到变形虫的更为广袤的生命帝国的一部分，这一明显的事实带来了三个重要结果。第一个结果是，和所有生命形式一样，我们之所以能够生存是因为我们从环境中摄取能量，并且用此能量繁衍生息。第二个结果是，能像所有智慧的动物一样，我们有好奇心。我们总是在修修补补，思索着哪些东西能吃，哪些东西能玩，哪些东西能加以改进。"
},{
  "_id": { "$oid": "6454c811280ed6fd73c396ae" },
  "text": "这里就需要引入第二种工具——社会学。社会学同时告诉我们，什么导致了社会变化，社会变化又带来了什么，聪明的猿猴围坐在一起修修补补是一回事儿，他们的奇思妙想流行开来改变社会又是另一会事儿。"
},{
  "_id": { "$oid": "6455e7fa732b4449dc6f38d4" },
  "text": "test"
}]
</pre></div>
<p><span class="center-strong">段落与标题（Outline）</span></p>
<p><code>r_outline_paragraph = {_id, paragraph_id, outline_id, next_paragraph_id, prev_paragraph_id}</code></p>
<p>例子</p>
<div class="highlight"><pre><span></span><span class="o">{</span>
  <span class="s2">"_id"</span>: <span class="o">{</span> <span class="s2">"</span><span class="nv">$oid</span><span class="s2">"</span>: <span class="s2">"645669da732b4449dc6f3a15"</span> <span class="o">}</span>,
  <span class="s2">"paragraph_id"</span>: <span class="o">{</span> <span class="s2">"</span><span class="nv">$oid</span><span class="s2">"</span>: <span class="s2">"6454c6b0280ed6fd73c3969d"</span> <span class="o">}</span>,
  <span class="s2">"outline_id"</span>: <span class="o">{</span> <span class="s2">"</span><span class="nv">$oid</span><span class="s2">"</span>: <span class="s2">"645602f4732b4449dc6f38e5"</span> <span class="o">}</span>,
  <span class="s2">"next_paragraph_id"</span>: <span class="o">{</span> <span class="s2">"</span><span class="nv">$oid</span><span class="s2">"</span>: <span class="s2">"6454c6e6280ed6fd73c396a0"</span> <span class="o">}</span>
<span class="o">}</span>
</pre></div>
<p>通过标题查询相关段落</p>
<div class="highlight"><pre><span></span>[
  {
    $match: {
      paragraph_id: ObjectId(
        "6454c6b0280ed6fd73c3969d"
      ),
    },
  },
  {
    $graphLookup: {
      from: "r_outline_paragraph",
      startWith: "$paragraph_id",
      connectFromField: "next_paragraph_id",
      connectToField: "paragraph_id",
      as: "rs",
    },
  },
  {
    $project: {
      rs: 1,
      _id: 0,
    },
  },
  {
    $unwind: {
      path: "$rs",
    },
  },
  {
    $replaceRoot: {
      newRoot: "$rs",
    },
  },
  {
    $lookup: {
      from: "paragraph",
      localField: "paragraph_id",
      foreignField: "_id",
      as: "results",
    },
  },
  {
    $project: {
      paragraph: {
        $arrayElemAt: ["$results", 0],
      },
      next_id: "$next_paragraph_id",
      _id: 0,
    },
  },
  {
    $replaceRoot:
      /**
       * replacementDocument: A document or string.
       */
      {
        newRoot: {
          $mergeObjects: ["$paragraph", "$$ROOT"],
        },
      },
  },
  {
    $project: {
      paragraph: 0,
    },
  },
]
</pre></div>
<p>查询结果</p>
<div class="highlight"><pre><span></span>[
    {
    "_id": { "$oid": "6454c6b0280ed6fd73c3969d" },
    "text": "在本书中，我认为，西方缘何主宰世界的问题实际上是关于社会发展的问题。这里的社会发展是指社会达成目标的能力，即社会通过影响物理、经济、社会、智力等环境以达到相应目标。19~20世纪，西方观察家讲社会发展视为理所当然的好事。他们含蓄或者公开地说，发展就是进步（或者进化，或者历史），而进步——不管是向着上帝、富裕还是人民的天堂——是生活的意义。现在，这些意义似乎不那么显而易见了。很多人感到，社会发展过程中带来的种种弊端，如环境恶化、战争、不平等和幻想破灭，要远比收益多得多。",
    "next_id": { "$oid": "6454c6e6280ed6fd73c396a0" }
    },{
    "_id": { "$oid": "6454c811280ed6fd73c396ae"},
    "text": "这里就需要引入第二种工具——社会学。社会学同时告诉我们，什么导致了社会变化，社会变化又带来了什么，聪明的猿猴围坐在一起修修补补是一回事儿，他们的奇思妙想流行开来改变社会又是另一会事儿。"
    },{
    "_id": { "$oid": "6454c6e6280ed6fd73c396a0"},
    "text": "\"历史：名词，指一种往往虚假的记录，记录的大多是无关紧要的事情。这些事情由统治者和军人引起，这统治者大多是无赖，而军人往往是傻子。\"安布鲁斯·比尔斯（Ambrose Bierce）关于历史的这条风趣的定义，有时你不得不赞同：看起来历史似乎仅仅是一件讨厌的事情接着另一件，是天才和傻子，暴君和浪漫派、诗人和盗贼混杂在一起的一团乱麻，或创造非凡之举，或在堕落边缘挣扎。",
    "next_id": { "$oid": "6454c716280ed6fd73c396a1" }
    },{
    "_id": { "$oid": "6454c6b0280ed6fd73c3969d" },
    "text": "在本书中，我认为，西方缘何主宰世界的问题实际上是关于社会发展的问题。这里的社会发展是指社会达成目标的能力，即社会通过影响物理、经济、社会、智力等环境以达到相应目标。19~20世纪，西方观察家讲社会发展视为理所当然的好事。他们含蓄或者公开地说，发展就是进步（或者进化，或者历史），而进步——不管是向着上帝、富裕还是人民的天堂——是生活的意义。现在，这些意义似乎不那么显而易见了。很多人感到，社会发展过程中带来的种种弊端，如环境恶化、战争、不平等和幻想破灭，要远比收益多得多。",
    "next_id": { "$oid": "6454c6e6280ed6fd73c396a0" }
    }
]
</pre></div>
</div>
<div class="section" id="to-do">
<h3><a class="toc-backref" href="#id11">插图 (//To Do)</a></h3>
<ul class="simple">
<li>像素图</li>
<li>矢量图</li>
<li>标记语言图</li>
<li>表格与公式 <code>Formular = ${LaTex}</code></li>
</ul>
<p>工具 <a class="reference external" href="https://www.tablesgenerator.com/">Tables Generator</a></p>
</div>
<div class="section" id="outline">
<h3><a class="toc-backref" href="#id12">大纲（Outline）</a></h3>
<p>大纲是在书的内部对内容的抽象，可以分多级，数字化的。具体的可以用名称对常用的级别进行命名。</p>
<p><code>Joint = {_id, Title}</code></p>
<p>但大纲本身没有分级，而是通过目录进行编排的。</p>
</div>
<div class="section" id="id4">
<h3><a class="toc-backref" href="#id13">目录（Contents）</a></h3>
<ul class="simple">
<li>部 Part （一级）</li>
<li>章 Chapter （二级）</li>
<li>节 Section（三级）</li>
<li>篇 Section/Segment/Fragment （四级）</li>
</ul>
<p><code>Contents = {_id, [Outline_id, [Outline_id, ...]]}</code></p>
</div>
</div>
<div class="section" id="id5">
<h2><a class="toc-backref" href="#id14">图书的内容关联</a></h2>
<p><span class="center-strong">段落生命周期 Lifecycle of Paragraph</span></p>
<p>段落和大纲的生命周期，是产生实际的链接所决定的。</p>
<p>当一个段落与大纲产生链接时，段落与大纲之间就产生了"被引用"和"具象化"的实际关系。</p>
<p>段落映射 <code>ParagraphMap = {_id, Outline_id, [LinkedParagraph_id]}</code></p>
<p><span class="center-strong">大纲生命周期 Lifecycle of Outline</span></p>
<p>当一个大纲与图书产生链接时，大纲与图书之间就产生了"被引用"和"具象化"的实际关系。</p>
<p>大纲中的标题（Title）在一本书的命名空间内，都可以重复，其有效性通过有无被引用决定。</p>
<p>在同一个命名空间内，同一个大纲可以被重复引用。</p>
<p>作者 <code>Author = {_id, Name}</code></p>
<p>出版社 <code>Publisher = {_id, Name}</code></p>
<p>图书 <code>Book = {_id, ISBN, Title, Subtitle, [Author_id], Publisher_id, Contents_id, ParagraphMap_id}</code></p>
</div>
<div class="section" id="id6">
<h2><a class="toc-backref" href="#id15">组织内容的坐标</a></h2>
<div class="section" id="id7">
<h3><a class="toc-backref" href="#id16">纸质书投影</a></h3>
<p><span class="center-strong">实体印刷坐标 Printed Coordinates</span></p>
<p>实体印刷书 <code>Printed_Book = {Book_id, Paragraph_id, Page, firstHalf|secondHalf|all(1|2|0)}</code></p>
</div>
<div class="section" id="id8">
<h3><a class="toc-backref" href="#id17">电子书投影 (//To Do)</a></h3>
</div>
</div>
</div>
    </div>
        <hr>
        </div>
    </div> </div>

<div class="footer">
  <p><a rel="license" href="//creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="Creative Commons License" style="border-width:0" src="/theme/images/icons/cc-by-nc-nd-40-80x15.png" /></a>
    <a href="/feeds/all.atom.xml"><img src="/theme/images/icons/rss.png"/></a>
  </p>
  <p>&copy; 2011-2023 <a href="//yanjiong.wang">王延炯博士</a>
      <a href="//cn.linkedin.com/in/wangyanjiong"><img src="/theme/images/icons/linkedin.png"/></a>
      <a href="//github.com/sinewang"><img src="/theme/images/icons/github.png"/></a>
      <a href="/images/qrcode/qrcode_for_drwangyanjiong.jpg"><img src="/theme/images/icons/wechat.png"/></a>
      <a href="//weibo.com/sinewang"><img src="/theme/images/icons/weibo.png"/></a>
      <a href="//www.douban.com/people/sinewang"><img src="/theme/images/icons/douban.png"/></a>
  </p>
  <p>
  </p>
  <p class="powered-by">POWERED BY <a href="//getpelican.com">Pelican</a> & <a href="//github.com/sinewang/pelican-beapow">beapow</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
</body>
</html>