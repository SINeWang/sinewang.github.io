<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>架构是一种解决问题的能力  @ 王延炯 · 观世界 | World Insight
</title>
    <meta name="description" content="">
    <meta name="author" content="Wang YanJiong">



    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

    <link href="/theme/sinestudio.css" rel="stylesheet">
    <link href="/theme/timeline.css" rel="stylesheet">

        <link href="feeds/all.atom.xml" rel="alternate" title="王延炯 · 观世界 | World Insight" type="application/atom+xml">

</head>

<body>

<nav class="navbar navbar-inverse navbar-default">
  <div class="container">
    <div class="navbar-header">
      <button class="navbar-toggle collapsed" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <a class="navbar-brand" href="/">王延炯 · 观世界 | World Insight</a>
    </div>

    <div id="navbar" class="collapse navbar-collapse" aria-expanded="false" style="height:1px;">
        <ul class="nav navbar-nav">
            <li><a href="/categories/ideas">思考</a></li>
            <li><a href="/categories/experiences">经验</a></li>
            <li><a href="/categories/alumni">相册</a></li>
        </ul>
        <p class="navbar-text navbar-right">作文是研究的开始</p>
    </div>
  </div>
</nav>

<div class="container">

    <div class="row">

        <div class="col-md-9">
    <div class='article'>
        <div class="article-title">
            <h1>架构是一种解决问题的能力</h1>
        </div>
        <div class="article-metadata">
<div class="text-center">
  <p>
    <span class="glyphicon">2016-08-16</span>

          <span class="glyphicon glyphicon-book"></span> <a class="category-link" href="/categories/ideas">思考</a>

  </p>
</div>
<div class="text-center">
  <ul class="list-of-tags tags-in-article">
      <li><a href="/tags/jia-gou">架构
            <sup>3</sup></a>
      </li>
  </ul>
</div>
<div class="article-summary">
  <p><p class="first last">架构是一种用计算机解决问题的能力，与头衔无关。</p>
</p>
</div>
        </div>


        <div class="article-content">
<!-- -->
<p>架构是任何一个信息系统的骨架。所以，在谈论架构之前，不妨审视一下信息系统对于企业的价值。</p>
<div class="section" id="id2">
<h2><a class="toc-backref" href="#id11">信息系统的价值</a></h2>
<p>如果简单的以「互联网」或者「传统」来对企业进行简单的划分，是肤浅的。</p>
<p>这里，需要借用另外一个视角：「资本论」的视角，对区分信息系统对于企业的价值（似乎自从学校毕业之后，IT圈子里很少有人会想起马克思写了一大半，再由恩格斯续写的「资本论」了）</p>
<ul class="simple">
<li>核心类企业：信息系统全面作为生产资料的收集平台、产品的制造平台、售后的服务平台</li>
<li>支撑类企业：信息系统用于映射和承载本企业现有商业模式，作为企业生产关系的映射</li>
<li>辅助类企业：信息系统用于传递企业内各部门之间以及产业链上下游之间信息，企业管理职能的映射</li>
</ul>
<p>将生产资料在这三类企业中进行举例：
* 核心类企业：互联网公司
* 支撑类企业：电信运营商、股份制商业银行等
* 辅助类企业：一般制造业（非工业4.0）</p>
<p>除了「游戏」这个特例之外，面向最终用户，应用软件都致力于向用户呈现一个最接近「现实世界」的「虚拟世界」。</p>
</div>
<div class="section" id="id3">
<h2><a class="toc-backref" href="#id12">架构源于对实践的总结</a></h2>
<p>信息系统，是根据我们的认知所建立起来的，在使用过程中它由反作用于我们自己。</p>
<p>架构能力并不是与生俱来的，而是和具体经历强相关的，丰富的经验是形成架构能力的基础。很多时候我们强调「系统性思考」对于架构设计的重要性，希望从方法论上能够对正在从事或者即将从事架构工作的程序员在专业能力上进行提升。但这是远远不够的，计算机是一个理论和实践结合非常紧密的领域，我们不可能把自己的经验完完整整的教授给另外一个人，只能归纳总结为最佳实践的理论。一方面，理论一定程度上能够避免走弯路，但不能够解决实际的问题；另一方面，很多理论也是源于对实践的总结。</p>
</div>
<div class="section" id="id4">
<h2><a class="toc-backref" href="#id13">架构是一种解决问题的能力</a></h2>
<p>架构是一种解决问题能力，在IT领域，它体现在两个层面
* 宏观层面：对特定问题，进行解决方案的设计
* 微观层面：对后续的编码工作，形成与解决方案核心相一致的代码框架</p>
<p>可以说，「架构工作」不仅要能够交付设计图纸，还要能够「建地基、搭房梁」。</p>
<p>很多时候我们看到的「系统架构图」，其实是针对目标问题所设计的「计算机领域的解决方案」。</p>
</div>
<div class="section" id="id5">
<h2><a class="toc-backref" href="#id14">架构是一个建模的过程</a></h2>
<p>对于一个复杂问题，通常会对复杂问题按照能力领域进行分解，其目的是能够找到与现有能力相匹配的映射。这个映射，就是解决方案。它，不开人的「知识型劳动」，主要分解为三个方面：
* 对于已知问题的抽象和建模
* 对于已知能力的抽象和建模
* 对于解决方案和工具的设计</p>
<p>其中前两个方面，都提到了「建模」。建模本身是对客观事物的一种抽象，客观事物越复杂，那建模的结果变成「盲人摸象」的概率就越高。</p>
<p>然而，「盲人摸象」在IT领域其实不能算是个「贬义词」，因为这个现象十分的常见。究其原因，解决实际问题信息系统，更多程度是面向于「典型」应用场景，而不是「任意」应用场景的。</p>
<p>场景即是对客观事物的认知视角，信息系统做不到、也不需要对一个完整的客观事物进行全面（360°无死角）建模。</p>
<p>举个具体的例子：对于人这个客观事物，银行系统里，可能会关心这个人财务指标，例如「收入」、「支出」和「存款余额」，但在医院的重症监护病房里，可能就会关心这个人的生命指标，例如「血压」、「心跳」。</p>
<p>从例子里可以看出，一个面向具体问题的场景化应用系统，都是对一个客体进行「片面的」场景化建模。</p>
<p>说到底，建模是一种抽象能力，具体的说，是人对客观事物认知结果的理性提炼和总结，不可否认感性的部分太难以刻画和描述。很符合「庄子·天道」中所述：「意之所随者，不可以言传也」。</p>
<p>如果要拿数学语言进行描述「建模的能力」，就是找到一组尽可能少的「特征向量」去表述这个空间，而找这组「特征向量」的能力，就是建模的能力。</p>
</div>
<div class="section" id="id6">
<h2><a class="toc-backref" href="#id15">架构是一系列选择的过程</a></h2>
<p>架构既然是个解决方案，自然有很多可以自由选择的领域，有很多的受限的前提条件。这些外围因素，往往还系统背后的个人、团队、企业的价值观、以及非IT能力有关，这是一个很容易被忽视的点。</p>
<ul class="simple">
<li>与人和团队的关系</li>
</ul>
<p>架构往往是与个人或者团队的能力有关的，因为架构前一部分是设计工作，后一部分是代码框架的落地工作。可以没有一个十全十美、满足各方需求的方案，架构过程中有很多都是妥协的结果，有的是向需求妥协，有的是向运维妥协，有的是向个人英雄主义妥协。另外，绝大部分的选择都是人作出的，这导致了和人、团队的水平形成了很大的耦合关系。</p>
<p>早在1895年，法国心理学家 <em>勒庞</em> 在他的心理学名著「乌合之众（The Crowd）」就早已经说过：<strong>一群精英所作出的群体决定，很有可能是最愚蠢的决定</strong>。有时候，技术团队不能太强调民主；有时候，技术团队中的强强产生的效果是「1 + 1 &lt; 1」。一个良好的、强弱结合的组织结构，才有可能孵化出优秀的工具，再进阶为一个优秀的产品，也有利于成员梯队的培养。</p>
<p>团队越大，一个优秀的架构设计方案被严格执行下去的可能性越小。第一，制定方案的人和落地方案的人大多数情况下都有脱节，很多设计精巧的方案细节到了执行者的手里，会被忽视。第二，为了统一一个团队的认识结构、设计理念，这部分的培训成本往往都是各个雇主不愿意付出的。第三，方案的描述本省是「不精确」的，还很容易存在文档过期的情况，在软件及交付的各个环节，任何参与者都有机会以自己的知识背景作为出发点进行理解，并自豪地加上自己的「杰作」。</p>
<ul class="simple">
<li>与企业的价值观相关</li>
</ul>
<p>企业的价值观，最直接的体现，就是企业的投资组合。</p>
<p>我经常举的一个例子：有两个人，一个是CTO，一个是CIO，前者是互联网公司的首席技术官，另外一个是非互联网公司的首席信息官，他们都是IT行业的从业者。年初预算，大家可能都有100万，考核指标都是要对内提供一个数据库服务。那么对于CTO来说，他可能选择了开源的MySQL数据库，花了50万聘请了一个数据库专家，花50万采购硬件设备；另外，对于CIO来说，他可能选择了80万，买了商业的软硬一体的数据库产品，花了20万请了一个数据库专家作为甲方的项目经理。在这种情况下，可以说他们都做出了正确的选择。但如果这个CIO同样选择了「免费的」MySQL数据库，并且花了20万请了一个数据库专家来维护这个开源数据库，为公司「节省成本」，那这个CIO可能为将来埋下了「定时炸弹」，因为软件本身，是要和可自主掌握维护的能力相匹配的。</p>
<p>在大型的企业里，软件产品的采购旺旺会受制于「采购部」，也会受制于不懂IT的公司级领导所下达的行政干预，有些理由好像听上去也「很有道理」，采购过为什么还要采购，要「保护投资」。往往到了这个层面，程序员、架构师都纷纷表达了无奈。</p>
</div>
<div class="section" id="id7">
<h2><a class="toc-backref" href="#id16">架构是一座从需求到计算机的桥</a></h2>
<p>在这个视角上，我们会发现计算机很「生硬」，无法很「柔软」的去直接适配所需要解决的问题。</p>
<p>架构设计中，建模的结果，是模型，它有着结构化、棱角分明的特质，因为这是计算机进行计算的最高效的方式：严格的告诉我们——两个数是相等还是不相等，及其衍生。正由于严格匹配，所以在很长的一段时间里，解决方案的制定和后续系统的交付运行，都围绕着如何严格按照实际场景进行模拟和落地。 很少以「按概率成功」对系统的业务功能进行设计和实现，一切都必须「绝对正确」。因为绝大部分的计算机系统，无法理解自然语意。只能根据人为设计的结构化信息，「按部就班」地完成重复性劳动。</p>
<p>人工智能、机器学习，在解决自动化建模领域的成熟度还是远远达不到人的能力，如果达到了，那么软件就不需要人进行「架构设计」了。简单的从架构设计的结果（当然也是结构化的），生成代码，这方面目前的计算机还是有能力胜任的。</p>
<p>任何不符合实际场景的计算结果，用户都认为是「缺陷 」，而在系统中产生此类异常结果，往往需要「程序员」为此承担相应的责任。呐，回想一下，在没计算机的时代，反而往往都是店小二算错了帐自己赔，没有人会去责怪算盘。这是为什么，因为算盘足够简单，简单到不需要做任何的监控系统、不需要记录任何的日志，连「三下五除二」这样的操作规则，都已经被社会化学习消除了使用成本。最终，一切出错的原因只有一个：用键盘的人。</p>
<p>是的，计算机系统生来就是是不可靠的，它不可能像「算盘」一样在运行期不依赖任何的自然资源。断电了，会引发故障；光纤断了，会引发故障；磁盘满了，会引发故障。。。一系列的不确定因素，导致「分布式系统」架构设计比「主机系统」的架构设计复杂的多，原本不需要操心的事情，都需要从更上层的软件层加以解决了。</p>
<p>所以，当前架构工作的很大一块，都随着分布式系统规模的增大而加大了比重。导致世界上最聪明的一伙人都去解决计算机的问题了。</p>
</div>
<div class="section" id="id8">
<h2><a class="toc-backref" href="#id17">代码是架构的落地实现</a></h2>
<p>现今任何的计算机高级编程语言，例如Java/C/C++，或者更高层的DSL，都是人与计算机之间的「单向语言」。这些「单向语言」，并非自然语言，大多数由程序员编写，再交由计算机进行执行，在很长的一段时间内，信息系统都是以这种方式与人进行交互。 （当然，也可以慢慢的等待「Siri」之类的助手长大成人，成为一名架构师，也许那个时候，广大架构师需要转行了。）</p>
<p>代码是架构实现的核心，通过代码可以完成对「自然世界虚拟化」：
* 概念的虚拟化
* 能力的虚拟化
* 实体的虚拟化
* 记忆的虚拟化
* 协作的虚拟化</p>
<p>通过一些例子，有助于理解：
* 概念的虚拟化：一个业务概念的类定义
* 能力的虚拟化：一个方法对多个输入数据进行加工并返回结果
* 实体的虚拟化：一个类的实例，即具体的数据
* 记忆的虚拟化：一条关系型数据库的行记录
* 协作的虚拟化：远程方法调用</p>
<p>是的，代码是计算机的指挥官，代码是向计算机呈现人类智慧的另一种语言。</p>
</div>
<div class="section" id="id9">
<h2><a class="toc-backref" href="#id18">架构设计的「洼地」是对「客观事物」的刻画</a></h2>
<p>「概念」、「能力」、「协作」是客观事物的几个方面。</p>
<p>互联网以及分布式系统的蓬勃发展，使得「架构设计」的重心落到了解决大数据所带来的问题之上。</p>
<p>「概念的虚拟化」、「能力的虚拟化」、「协作的虚拟化」，似乎很少进入一般「技术爱好者」的视野。很多程序员喜欢写技术框架、与计算机打交道，而不愿意写「朝三暮四」的业务逻辑。让程序员引以为豪的事情，大多是以解决了C10K乃至C10M的高并发的场景、搞定了超大规模的系统集群为代表的「技术问题」。</p>
<p>在技术上，在这三个方面连「技术领先」的互联网公司似乎都没有很好的解决方案。以电商为例，顶层的概念模型主要是「买家」、「卖家」、「商品」、「账户」。它们并不关心一个「商品的内涵」，也就是一个商品内部组成的具体概念模型，都是以「非结构化」的方式对商品进行描述——采用图片的方式。</p>
<p>一个很值得思考的问题是，既然互联网电商做了不同商品市场的平台化交易，那为什么不能够为这些商品的背后的制造企业进行B2B的供应链管理呢？比如做电子器件的，做显示屏的，做手机的，在产业链上是自然形成的上下游供求关系，为何很少有公司能够把这层的关系做成成熟的互联网模式？</p>
<p>也许这已经超越了架构所要解决问题的范畴，在资本的视角里，这部分的投资，ROI比较低，回本时间也比较长。不过，这部分恰恰是「非互联网企业」所要实践「数据驱动」或者是「互联网+」战略的重要障碍。</p>
</div>
<div class="section" id="id10">
<h2><a class="toc-backref" href="#id19">一些从架构衍生的问题</a></h2>
<ul class="simple">
<li>在互联网公司出现之前，有没有「互联网公司」呢？他们和现如今的互联网公司的差别是什么？</li>
</ul>
<p>其实是有的，例如「电网」、「电信运营商」、「股份制商业银行」、「快递物流公司」。在人类社会中最基本的两个元素，就是「实体」和「连接」，一切和连接有关的行业，都可以认为是「互联」，只不过信息系统在企业中的价值是由「生产关系」决定了其价值。</p>
<ul class="simple">
<li>机器学习能够帮助架构设计吗？</li>
</ul>
<p>机器学习很长一段时间之内都停留在参数调优上，而不具备对于一般事物进行建模的能力。前文也阐述过「概念的虚拟化」和「实体虚拟化」之间的关系，实体虚拟化就是数据，而数据本身已经是类的实例了，</p>
<ul class="simple">
<li>互联网公司大谈「大数据」以及「数据驱动DT」的原因是什么？</li>
</ul>
<p>前面提到，数据是对客观实体的虚拟化，客观实体并不是无中生有的，他们是自然世界的产物，数据驱动的本质是客观事物驱动，退一步讲，仍然是业务驱动。当然，打通多个场景化的数据，对客体进行360°的建模，真是「大数据」真正价值所在。</p>
<p>需要注意的是，剑总是双刃的，当在计算机系统这个虚拟世界里，找到了360°、包含衣食住行的你，生活是便利了，因为可以预测你的需求，不过你的隐私还存在多少？</p>
<ul class="simple">
<li>对开源软件实施「拿来主义」是否可行？</li>
</ul>
<p>很多开源软件，直接的「拿来主义」，会导致「后患无穷」。很大程度上，开源代码是一个个人、一个团队整体能力的映射，并且和运行这些代码所需要的环境息息相关。开源代码也是挑人、挑环境的，在一个团队没有想匹配的能力进行正确的使用之前，很多时候都是一匹「天生野马」，在驯服之后才会变成自己的「血汗宝马」，驯服的过程其实就是和自己团队以及周边环境相适配、磨合的过程。</p>
<ul class="simple">
<li>重复造轮子真的是浪费吗？</li>
</ul>
<p>一个健康的IT团队，应当建立起一套评估「现有轮子」是否产生实际效益的体系，比如能够监控代码在生产环境的实际使用率、故障率，适时的下线一些「低效益」的代码。不要简单的否定和阻止「重新造轮子」，这是与企业内部人的能力对齐、外部大环境对齐的过程，更是企业不断新陈代谢的「投资型基因」。</p>
<ul class="simple">
<li>结构化的数据到底意味着什么？</li>
</ul>
<p>所谓结构化，其实是面向数据的下游处理者，可以与其内置的概念（数据模型）进行映射和处理。举个具体的例子，一张bitmap图片，它本身是有结构的。bitmap的图片是标明了每个像素点上的RGB颜色值具体是多少，这个数据结构，对于图片浏览器来说，是可以识别和解析成为一张人眼能够识别的图片的，而浏览器本身只负责每个像素点上的颜色还原。倘若这张图片里是一张「用户」写实头像，那么图片浏览器并不能够分析出这张头像具体是哪个自然人，也无法将这张图片作为一个API的入参，联合其他该用户的入参，进行内部业务逻辑的处理。</p>
</div>
</div>
    </div>
        <hr>
<h2>评论</h2>
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'wangyanjiong';
    var disqus_title = '架构是一种解决问题的能力';

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
        </div>
        <div class="col-md-3">
<div class="sidebar">
    <h2>目录</h2>
    <div class="toc" id="">

<ul class="simple">
<li><a class="reference internal" href="#id2" id="id11">信息系统的价值</a></li>
<li><a class="reference internal" href="#id3" id="id12">架构源于对实践的总结</a></li>
<li><a class="reference internal" href="#id4" id="id13">架构是一种解决问题的能力</a></li>
<li><a class="reference internal" href="#id5" id="id14">架构是一个建模的过程</a></li>
<li><a class="reference internal" href="#id6" id="id15">架构是一系列选择的过程</a></li>
<li><a class="reference internal" href="#id7" id="id16">架构是一座从需求到计算机的桥</a></li>
<li><a class="reference internal" href="#id8" id="id17">代码是架构的落地实现</a></li>
<li><a class="reference internal" href="#id9" id="id18">架构设计的「洼地」是对「客观事物」的刻画</a></li>
<li><a class="reference internal" href="#id10" id="id19">一些从架构衍生的问题</a></li>
</ul>
</div>
</div>

        </div>

    </div> </div>

<div class="footer">
  <p><a rel="license" href="//creativecommons.org/licenses/by-nc-nd/4.0/"><img alt="Creative Commons License" style="border-width:0" src="/theme/images/icons/cc-by-nc-nd-40-80x15.png" /></a>
    <a href="/feeds/all.atom.xml"><img src="/theme/images/icons/rss.png"/></a>
  </p>
  <p>&copy; 2011-2016 <a href="//yanjiong.wang">王延炯博士</a>
      <a href="//cn.linkedin.com/in/wangyanjiong"><img src="/theme/images/icons/linkedin.png"/></a>
      <a href="//github.com/sinewang"><img src="/theme/images/icons/github.png"/></a>
      <a href="/images/qrcode/qrcode_for_drwangyanjiong.jpg"><img src="/theme/images/icons/wechat.png"/></a>
      <a href="//weibo.com/sinewang"><img src="/theme/images/icons/weibo.png"/></a>
       · <a href="//smartea.org">SmartEA</a>
       · <a href="//capareso.com">CAPARESO</a>
  </p>
  <p>
          <a href="/about">关于</a>
          | <a href="/copyright">版权</a>
  </p>
  <p>Powered By <a href="//getpelican.com">Pelican</a> & <a href="//github.com/sinewang/pelican-beapow">beapow</a></p>
</div>


<script src="//cdn.bootcss.com/jquery/1.12.1/jquery.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>

<script src="//s95.cnzz.com/z_stat.php?id=1256725324&web_id=1256725324" language="JavaScript"></script>
</body>
</html>